name: Create new cohort

on:
  workflow_dispatch:
    inputs:
      issue_number:
        required: true
  #   inputs:
  #     org-name:
  #       description: What is the name of the organization?
  #       required: true
  #       default: ''
  #     repo-name:
  #       description: What is the name of the repository?
  #       required: true
  #       default: ''

jobs:
  parse_issue:
    name: Parse Issue data
    runs-on: ubuntu-latest
    env:
      GH_TOKEN: ${{ secrets.GH_PAT }}
    steps:
      # - name: Fetch the issue
      #   id: read_issue_body
      #   run:
      #     echo "body=$(gh issue view ${{ inputs.issue_number }} --repo ${{ github.repository }} --json body --jq '.body')" >> $GITHUB_OUTPUT

      - name: Parse issue
        id: parse
        uses: zentered/issue-forms-body-parser@v2.1.1
        # with:
        #   body: ${{ steps.read_issue_body.output.body }}
      - run: echo ${{ toJSON(steps.parse.outputs.data) }}
  # create_repo:
  #   name: Create new GitHub repo
  #   runs-on: ubuntu-latest
  #   env:
  #     GH_TOKEN: ${{ secrets.GH_PAT }}

  #   steps:
  #       # - name: Create repo
  #       #   run: |
  #       #     gh repo create ${{ github.event.inputs.org-name }}/${{ github.event.inputs.repo-name }} --private
